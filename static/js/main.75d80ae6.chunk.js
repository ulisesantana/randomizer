(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,n,t){e.exports=t(45)},37:function(e,n,t){},45:function(e,n,t){"use strict";t.r(n);var a,r=t(0),i=t.n(r),o=t(9),c=t.n(o),l=(t(37),t(4)),u=t(5);!function(e){e.CREATE_ITEM="CREATE_ITEM",e.UPDATE_ITEM="UPDATE_ITEM",e.DELETE_ITEM="DELETE_ITEM",e.CREATE_CATEGORY="CREATE_CATEGORY",e.UPDATE_CATEGORY="UPDATE_CATEGORY",e.DELETE_CATEGORY="DELETE_CATEGORY",e.UPDATE_ALL="UPDATE_ALL",e.REPLACE_ALL="REPLACE_ALL",e.DELETE_ALL="DELETE_ALL",e.RESET="RESET"}(a||(a={}));var d,s=function(e,n){return function(t){return function(a){var r=a.target.value;n({type:e,payload:Object(u.a)({},t,{label:r})})}}},m=function(e,n){return function(t){return function(a){n({type:e,payload:Object(u.a)({},t,{label:a})})}}},E=function(e,n){return function(t){return function(){n({type:e,payload:t})}}},f=t(7);function g(e){return Object.values(e).reduce(function(e,n){return Object(u.a)({},e,Object(f.a)({},n.id,n))},{})}function b(e){return e.sort(function(e,n){var t=e.label,a=n.label;return t<a?-1:t>a?1:0})}function h(e){return function(n){return n.filter(function(e){return function(n){return n.id!==e}}(e))}}function p(e,n){return function(){n(e)}}!function(e){e.Randomize="RANDOMIZE",e.Edit="EDIT",e.List="LIST",e.Settings="SETTINGS"}(d||(d={}));function v(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),a=1;a<n;a++)t[a-1]=arguments[a];return t.reduce(function(e,n){return n(e)},e)}var O=[{id:"5ceed757fc13ae323d000000",label:"Huapangos",items:[{id:"5ceed757fc13ae323d000001",label:"Serenata Huatesca"},{id:"5ceed757fc13ae323d000002",label:"La Malague\xf1a"},{id:"5ceed757fc13ae323d000003",label:"Currucucucu Paloma"}]},{id:"5ceed757fc13ae323d000006",label:"Sones",items:[{id:"5ceed757fc13ae323d000007",label:"La negra"},{id:"5ceed757fc13ae323d000008",label:"Un poco loco"},{id:"5ceed757fc13ae323d000009",label:"Jarabe tapatio"}]},{id:"5ceed757fc13ae323d00000c",label:"Corridos",items:[{id:"5ceed757fc13ae323d00000d",label:"No me s\xe9 rajar"},{id:"5ceed757fc13ae323d00000e",label:"Rancho grande"},{id:"5ceed757fc13ae323d00000f",label:"M\xe1talas"}]},{id:"5ceed757fc13ae323d000012",label:"Rancheras",items:[{id:"5ceed757fc13ae323d000013",label:"Ella"},{id:"5ceed757fc13ae323d000014",label:"Cielito lindo"},{id:"5ceed757fc13ae323d000015",label:"Se me olvid\xf3 otra vez"}]},{id:"5ceed757fc13ae323d000018",label:"Boleros",items:[{id:"5ceed757fc13ae323d000019",label:"Si nos dejan"},{id:"5ceed757fc13ae323d00001a",label:"La media vuelta"},{id:"5ceed757fc13ae323d00001b",label:"Motivos"}]}].reduce(function(e,n){return Object(u.a)({},e,Object(f.a)({},n.id,Object(u.a)({},n,{items:g(Object.values(n.items))})))},{}),y=Object.freeze({get:function(e){var n=localStorage.getItem(e),t=new RegExp(/^\d+$/),a=new RegExp(/[[{].*[}\]]/);return n?a.test(n)?JSON.parse(n):t.test(n)?parseFloat(n):n:void 0},set:function(e,n){"object"===typeof n?localStorage.setItem(e,JSON.stringify(n)):localStorage.setItem(e,n.toString())},remove:function(e){localStorage.removeItem(e)}}),T="randomizer@categories";function w(e,n){var t=v(function(e,n){var t=n.type,r=n.payload;switch(t){case a.CREATE_CATEGORY:case a.UPDATE_CATEGORY:var i=r,o=i.id,c=i.label,l=i.items;return Object(u.a)({},e,Object(f.a)({},o,{id:o,label:c,items:l||[]}));case a.DELETE_CATEGORY:var d=r.id;return v(e,Object.values,h(d),g);case a.CREATE_ITEM:case a.UPDATE_ITEM:var s=r,m=s.categoryId,E=s.id,p=s.label;return Object(u.a)({},e,Object(f.a)({},m,Object(u.a)({},e[m],{items:Object(u.a)({},e[m].items,Object(f.a)({},E,{id:E,label:p}))})));case a.DELETE_ITEM:var y=r,T=y.categoryId,w=y.id;return Object(u.a)({},e,Object(f.a)({},T,Object(u.a)({},e[T],{items:v(e[T].items,Object.values,h(w),b,g)})));case a.REPLACE_ALL:return r;case a.UPDATE_ALL:return Object(u.a)({},e,r);case a.DELETE_ALL:return{};case a.RESET:return O;default:return e}}(e,n),Object.values,b,g);return y.set(T,t),t}var j=t(6),x=t(3);function C(){var e=Object(j.a)(["\n  height: ",";\n  width: ",";\n"]);return C=function(){return e},e}var k=x.a.div(C(),window.innerHeight,window.innerWidth);function A(){var e=Object(j.a)(["\n  align-items: center;\n  background-color: rgba(255,255,255,0.6);\n  display: ",";\n  height: ","px;\n  justify-content: center;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: ","px;\n  z-index: 10;\n  \n  dialog {\n    align-items: center;\n    background-color: white;\n    border: none;\n    border-radius: 16px;\n    color: black;\n    display: flex;\n    font-size: 2rem;\n    flex-direction: column;\n    justify-content: space-between;\n    max-width: 860px;\n    min-height: ","px;;\n    padding: 32px 16px;\n    width: 80%;\n  }\n"]);return A=function(){return e},e}var S=x.a.div(A(),function(e){return e.open?"flex":"none"},window.innerHeight,window.innerWidth,Math.round(window.innerHeight/4)),R=function(e){var n=e.children,t=e.open,a=e.onFocusOut;return i.a.createElement(S,{open:t,onClick:function(e){e.preventDefault(),a&&a(e)}},i.a.createElement("dialog",{open:t},n))},L=t(22),z=t(23);function _(){var e=Object(j.a)(["\n  font-size: 1.5rem;\n \n  header {\n    font-size: 1.5rem;\n    min-height: ","px;\n  }\n  \n  .body {\n    min-height: ","px;\n\n    input {\n      background-color: rgba(0,0,0,0.2);\n      border: none;\n      border-radius: 24px;\n      color: black;\n      font-size: inherit;\n      padding: 12px;\n    }\n  \n  }\n  \n  footer {\n    align-items: center;\n    color: white;\n    display: flex;\n    justify-content: flex-end;\n    min-height: ","px;\n    padding: 8px 0;\n    \n    button {\n      background-color: transparent;\n      border: none;\n      border-radius: 100%;\n    }\n    \n    .cancel {\n      svg {\n       color: crimson;\n      }\n    }\n    \n    .confirm {\n      svg{\n        color: limegreen;\n      }\n    }\n    \n  }\n"]);return _=function(){return e},e}var D=x.a.div(_(),Math.round(window.innerHeight/12),Math.round(window.innerHeight/6),Math.round(window.innerHeight/12)),I=function(e){var n=e.open,t=e.onSubmit,a=e.onCancel,o=e.title,c=Object(r.useState)(""),u=Object(l.a)(c,2),d=u[0],s=u[1],m=function(e){e.preventDefault(),t(d),a(),s("")};return i.a.createElement(R,{open:n},i.a.createElement(D,null,i.a.createElement("form",{onSubmit:m},i.a.createElement("header",null,o),i.a.createElement("div",{className:"body"},i.a.createElement("input",{name:"label",placeholder:"Name",type:"text",value:d,onChange:function(e){var n=e.target.value;s(n)}})),i.a.createElement("footer",null,i.a.createElement("button",{className:"cancel",onClick:a},i.a.createElement(L.a,{size:48})),i.a.createElement("button",{onClick:m,className:"confirm"},i.a.createElement(z.a,{size:48}))))))};function M(){var e=Object(j.a)(["\n  align-items: center;\n  background-color: rgba(255,255,255,0.2);\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  font-size: 2rem;\n  justify-content: center;\n  min-height: ","px;\n  margin: 8px auto;\n  padding: 16px;\n  width: calc(100% - 48px);\n  \n  h2 {\n    margin: 0;\n  }\n  \n  small {\n    display: block;\n    font-size: 1.25rem;\n  }\n"]);return M=function(){return e},e}var H=x.a.li(M(),Math.round(window.innerHeight/8));function N(){var e=Object(j.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  height: ","px;\n  overflow-x: hidden;\n  top: 0;\n  width: ","px;\n  \n  .content {\n    max-width: 860px;\n    width: 100%;\n    \n      h1 {\n        background-color: #484848;\n        margin: 0;\n        padding: 24px 8px;\n        position: sticky;\n        top: 0px;\n      }\n     \n       h1 li {\n        font-size: 2rem;\n        font-weight: bold;\n      }\n    \n      ul {\n        display: block;\n        list-style: none;\n        margin: 0;\n        padding: 0;\n      }\n      \n      pre {\n        padding: 8px;\n        font-size: 0.75rem;\n      }\n  }\n"]);return N=function(){return e},e}var P=x.a.main(N(),window.innerHeight-116,window.innerWidth),U=function(e){var n=e.children;return i.a.createElement(P,null,i.a.createElement("div",{className:"content"},n))},B="#00838f",G="#e55100",Y="white";function W(){var e=Object(j.a)(["\n  align-items: center;\n  background-color: ",";  \n  bottom: 0;\n  color: ",";\n  display: flex;\n  height: 116px;\n  justify-content: center;\n\n  .cta {\n    background-color: ",";\n    border-radius: 100%;\n    border: solid 2px white;\n    color: inherit;\n    cursor: pointer;\n    height: ",";\n    outline: none;\n    width: ",";\n  }\n  \n  & > div {\n    align-items: center;\n    color: inherit;\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    width: ","px;\n  }\n\n\n  \n"]);return W=function(){return e},e}var J=x.a.nav(W(),B,Y,G,"96px","96px",window.innerWidth/3),F=function(e){var n=e.leftButton,t=e.cta,a=e.ctaOnclick,r=e.rightButton;return i.a.createElement(J,null,i.a.createElement("div",null,n),i.a.createElement("button",{className:"cta",onClick:a},t),i.a.createElement("div",null,r))};function $(){var e=Object(j.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  \n  textarea {\n    align-content: center;\n    background-color: transparent;\n    border: none;\n    color: inherit;\n    font: inherit;\n    resize: none;\n    width: inherit;\n  }\n  \n  button {\n    align-items: center;\n    background-color: #ff2200;\n    border: none;\n    border-radius: 100%;\n    color: white;\n    display: flex;\n    justify-content: center;\n    height: 36px;\n    width: 36px;\n  }\n  \n  \n"]);return $=function(){return e},e}var Z=x.a.div($()),q=t(24),K=function(e){var n=e.value,t=e.onChange,a=e.onDelete;return i.a.createElement(Z,null,i.a.createElement("textarea",{value:n,onChange:t}),i.a.createElement("button",{onClick:a},i.a.createElement(q.a,{size:32})))},Q=t(27),V=t(26),X=t(28),ee=t(25),ne=function(e){var n,t=e.category,a=e.sectionHandlers,o=Object(r.useState)(!1),c=Object(l.a)(o,2),u=c[0],d=c[1],s=function(e){e.preventDefault(),d(!1)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,null,i.a.createElement("h1",null,t.label),i.a.createElement("ul",null,!!Object.keys(t.items).length&&Object.values(t.items).map(function(e){var n=e.id,t=e.label;return i.a.createElement(H,{id:n,key:n},t)})),i.a.createElement(R,{open:u,onFocusOut:s},t.items[(n=Object.keys(t.items),n[Math.round(Math.random()*(n.length-1))])].label,i.a.createElement(ee.a,{size:48,onClick:s}))),i.a.createElement(F,{leftButton:i.a.createElement(V.a,{size:36,onClick:a.goToEdit}),cta:i.a.createElement(Q.a,{size:48}),ctaOnclick:function(){d(!0)},rightButton:i.a.createElement(X.a,{size:36,onClick:a.goToList})}))},te=t(8),ae=t(11),re=t(12),ie=t(10),oe=t.n(ie),ce=function(e){var n=e.state,t=e.sectionHandlers,o=e.dispatch,c=e.categoryHandler,u=Object(r.useState)(!1),d=Object(l.a)(u,2),s=d[0],E=d[1],f=function(e){var a=e.currentTarget.id;Object.keys(n).includes(a)&&(c(a),t.goToRandomize())};return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,null,i.a.createElement("ul",null,!!Object.keys(n).length&&Object.values(n).map(function(e){var n=e.id,t=e.label,a=e.items;return i.a.createElement(H,{id:n,key:n,onClick:f},i.a.createElement("h2",null,t),i.a.createElement("small",null,Object.keys(a).length," item",1===Object.keys(a).length?"":"s"))})),i.a.createElement(I,{title:"Add a category:",open:s,onSubmit:function(e){var n=oe()();m(a.CREATE_CATEGORY,o)({id:n})(e),c(n),t.goToEdit()},onCancel:function(){E(!1)}})),i.a.createElement(F,{leftButton:i.a.createElement(te.a,{size:32,onClick:t.goToRandomize}),cta:i.a.createElement(ae.a,{size:48}),ctaOnclick:function(){E(!0)},rightButton:i.a.createElement(re.a,{size:32,onClick:t.goToSettings})}))},le=t(29),ue=t(30),de=function(e){var n=e.section,t=e.sectionHandlers,o=e.dispatch,c=e.state,u=Object(r.useState)(!1),d=Object(l.a)(u,2),s=d[0],E=d[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,null,i.a.createElement("h1",{style:{textTransform:"capitalize"}},n),i.a.createElement("h2",null,"This is all your data: "),i.a.createElement("pre",null,i.a.createElement("code",null,JSON.stringify(c,null,2))),i.a.createElement(I,{title:"Add your your JSON:",open:s,onSubmit:function(e){m(a.RESET,o)(c)(JSON.parse(e))},onCancel:function(){E(!1)}})),i.a.createElement(F,{leftButton:i.a.createElement(te.a,{size:32,onClick:t.goToList}),cta:i.a.createElement(le.a,{size:48}),ctaOnclick:function(){!function(e){var n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n);var t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);n.select(),document.execCommand("copy"),document.body.removeChild(n),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}(JSON.stringify(c,null,2))},rightButton:i.a.createElement(ue.a,{size:32,onClick:function(){E(!0)}})}))},se=function(e){var n=e.category,t=e.nextCategory,o=e.categoryHandler,c=e.dispatch,u=e.sectionHandlers,d=Object(r.useState)(!1),f=Object(l.a)(d,2),g=f[0],b=f[1],h=s(a.UPDATE_CATEGORY,c)(n),p=m(a.CREATE_ITEM,c),v=s(a.UPDATE_ITEM,c),O=E(a.DELETE_ITEM,c);return i.a.createElement(i.a.Fragment,null,i.a.createElement(U,null,i.a.createElement("h1",null,i.a.createElement(K,{value:n.label,onDelete:function(){t&&(o(t),E(a.DELETE_CATEGORY,c)(n)())},onChange:h})),i.a.createElement("ul",{style:{width:"100%"}},!!Object.keys(n.items).length&&Object.values(n.items).map(function(e){var t=e.id,a=e.label;return i.a.createElement(H,{id:t,key:t+n.id},i.a.createElement(K,{value:a,onDelete:O({categoryId:n.id,id:t}),onChange:v({categoryId:n.id,id:t})}))})),i.a.createElement(I,{title:"Add an item:",open:g,onSubmit:p({categoryId:n.id,id:oe()()}),onCancel:function(){b(!1)}})),i.a.createElement(F,{leftButton:i.a.createElement(te.a,{size:32,onClick:u.goToRandomize}),cta:i.a.createElement(ae.a,{size:48}),ctaOnclick:function(){b(!0)},rightButton:i.a.createElement(re.a,{size:32,onClick:u.goToSettings})}))},me=function(){var e=function(){var e=y.get(T);return e||O}(),n=Object(r.useReducer)(w,e),t=Object(l.a)(n,2),a=t[0],o=t[1],c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.Edit,n=Object(r.useState)(e),t=Object(l.a)(n,2),a=t[0],i=t[1];return[a,{goToRandomize:p(d.Randomize,i),goToEdit:p(d.Edit,i),goToList:p(d.List,i),goToSettings:p(d.Settings,i)}]}(),u=Object(l.a)(c,2),s=u[0],m=u[1],E=Object(r.useState)(Object.keys(a)[0]),f=Object(l.a)(E,2),g=f[0],b=f[1],h=Object.keys(a).find(function(e){return e!==g});return i.a.createElement(k,null,s===d.Randomize&&i.a.createElement(ne,{category:a[g],sectionHandlers:m}),s===d.List&&i.a.createElement(ce,{state:a,dispatch:o,sectionHandlers:m,categoryHandler:b}),s===d.Edit&&i.a.createElement(se,{nextCategory:h,category:a[g],dispatch:o,sectionHandlers:m,categoryHandler:b}),s===d.Settings&&i.a.createElement(de,{state:a,dispatch:o,section:s,sectionHandlers:m}))},Ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function fe(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(i.a.createElement(me,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/randomizer",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/randomizer","/service-worker.js");Ee?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):fe(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):fe(n,e)})}}()}},[[31,1,2]]]);
//# sourceMappingURL=main.75d80ae6.chunk.js.map